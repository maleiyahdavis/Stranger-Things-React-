(this["webpackJsonpstranger-things-project"]=this["webpackJsonpstranger-things-project"]||[]).push([[0],{68:function(e,t,n){"use strict";n.r(t);var r=n(7),a=n(10),s=n(3),c=n.n(s),i=n(1),o=n(20),u=n.n(o),l=n(13),p=n.n(l),j="https://strangers-things.herokuapp.com/api/2202-FTB-ET-WEB-PT";function h(e,t){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("".concat(j,"/users/register"),{username:t,password:n});case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function b(e,t){return O.apply(this,arguments)}function O(){return(O=Object(r.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("".concat(j,"/users/login"),{username:t,password:n});case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function x(e,t,n,r){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(c.a.mark((function e(t,n,r,a){var s,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("".concat(j,"/posts"),{title:t,description:n,author:r},{headers:{"auth-token":a}});case 3:return s=e.sent,i=s.data,e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function f(e){localStorage.setItem("token",JSON.stringify(e))}function m(){return JSON.parse(localStorage.getItem("token"))}function g(){return JSON.parse(localStorage.getItem("user"))}var w=n(2),k=n(14),S=n(0);var y=function(e){var t=e.allPosts;return Object(S.jsx)("div",{className:"post-main-container",children:t.map((function(e){return Object(S.jsxs)("div",{className:"post-card",children:[Object(S.jsx)("h3",{children:e.title}),Object(S.jsxs)("p",{children:["Description: ",e.description]}),Object(S.jsxs)("p",{children:["Price: ",e.price]})]},e._id)}))})};var N=function(e){e.setIsLoggedIn;var t=Object(i.useState)(""),n=Object(a.a)(t,2),s=n[0],o=n[1],u=Object(i.useState)(""),l=Object(a.a)(u,2),p=l[0],j=l[1];return Object(S.jsxs)("div",{className:"auth-comp-main",children:[Object(S.jsx)("h2",{children:"Login"}),Object(S.jsxs)("form",{id:"login",onSubmit:function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,b(s,p);case 4:n=e.sent,n.data,f(token),r=s,localStorage.setItem("user",JSON.stringify(r)),o(""),j(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.response.data);case 15:case"end":return e.stop()}var r}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(S.jsxs)("fieldset",{className:"auth-comp-input",children:[Object(S.jsx)("label",{htmlFor:"username",children:"Username"}),Object(S.jsx)("input",{id:"username",type:"text",placeholder:"enter username",value:s,onChange:function(e){console.log(e.target.value),o(e.target.value)}})]}),Object(S.jsxs)("fieldset",{className:"auth-comp-input",children:[Object(S.jsx)("label",{htmlFor:"password",children:"Password"}),Object(S.jsx)("input",{id:"password",type:"password",placeholder:"enter password",value:p,onChange:function(e){console.log(e.target.value),j(e.target.value)}})]}),Object(S.jsx)("button",{children:"Login"})]})]})};var P=function(e){return Object(S.jsxs)("div",{className:"nav-bar",children:[Object(S.jsx)(k.b,{className:"nav-bar-link",to:"/posts",children:"Posts"}),Object(S.jsx)(k.b,{className:"nav-bar-link",to:"/login",children:"Login"}),Object(S.jsx)(k.b,{className:"nav-bar-link",to:"/register",children:"Register"})]})};var I=function(e){e.setIsLoggedIn;var t=Object(i.useState)(""),n=Object(a.a)(t,2),s=n[0],o=n[1],u=Object(i.useState)(""),l=Object(a.a)(u,2),p=l[0],j=l[1];return Object(S.jsxs)("div",{className:"auth-comp-main",children:[Object(S.jsx)("h2",{children:"Register"}),Object(S.jsxs)("form",{id:"register",onSubmit:function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h(s,p);case 4:n=e.sent,n.data,f(token),storeUser(s),o(""),j(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(S.jsxs)("fieldset",{className:"auth-comp-input",children:[Object(S.jsx)("label",{htmlFor:"username",children:"Username"}),Object(S.jsx)("input",{id:"username",type:"text",placeholder:"enter username",value:s,onChange:function(e){console.log(e.target.value),o(e.target.value)}})]}),Object(S.jsxs)("fieldset",{className:"auth-comp-input",children:[Object(S.jsx)("label",{htmlFor:"password",children:"Password"}),Object(S.jsx)("input",{id:"password",type:"text",placeholder:"enter password",value:p,onChange:function(e){console.log(e.target.value),j(e.target.value)}})]}),Object(S.jsx)("button",{children:"Register"})]})]})},F=function(e){var t=Object(i.useState)(""),n=Object(a.a)(t,2),s=n[0],o=n[1],u=Object(i.useState)(""),l=Object(a.a)(u,2),p=l[0],j=l[1];return Object(S.jsx)("div",{className:"new-post-comp-main-container",children:Object(S.jsxs)("form",{id:"newPostSubmit",onSubmit:function(){var e=Object(r.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=m(),r=g,e.next=6,x(s,p,r,n);case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(error);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(S.jsx)("h2",{children:"Create New Posts"}),Object(S.jsxs)("fieldset",{className:"auth-comp-input",children:[Object(S.jsx)("label",{htmlFor:"title",children:"Title"}),Object(S.jsx)("input",{id:"title",type:"text",placeholder:"enter title",value:s,onChange:function(e){o(e.target.value)}})]}),Object(S.jsxs)("fieldset",{className:"auth-comp-input",children:[Object(S.jsx)("label",{htmlFor:"description",children:"Description"}),Object(S.jsx)("input",{id:"description",type:"text",placeholder:"enter description",value:p,onChange:function(e){j(e.target.value)}})]}),Object(S.jsx)("button",{type:"submit",children:"Submit"})]})})},T=function(){var e=Object(i.useState)([]),t=Object(a.a)(e,2),n=t[0],s=t[1],o=function(){var e=Object(r.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=m(),e.next=4,p.a.get("https://strangers-things.herokuapp.com/api/2202-FTB-ET-WEB-PT/posts",{headers:{"auth-token":t}});case 4:n=e.sent,r=n.data,s(r.data.posts),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){o()}),[]),Object(S.jsxs)("div",{id:"App",children:[Object(S.jsx)("h1",{children:"Stranger's Things"}),Object(S.jsx)(P,{}),Object(S.jsxs)(w.c,{children:[Object(S.jsxs)(w.a,{exact:!0,path:"/posts",children:[Object(S.jsx)(y,{allPosts:n}),Object(S.jsx)(F,{})]}),Object(S.jsx)(w.a,{path:"/register",children:Object(S.jsx)(I,{})}),Object(S.jsx)(w.a,{path:"/login",children:Object(S.jsx)(N,{})})]})]})};u.a.render(Object(S.jsx)(k.a,{children:Object(S.jsx)(T,{})}),document.getElementById("app"))}},[[68,1,2]]]);
//# sourceMappingURL=main.9c2d7b5a.chunk.js.map